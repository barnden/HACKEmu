<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HACKEmu</title>
    <link rel="stylesheet" href="style.min.css">
</head>
<body>
    <div class="container">
        <div class="mem">
            <div id="ASM">
                <textarea id="asm-inp" cols="50" rows="25" spellcheck="false" placeholder="Enter HACK ASM code here"></textarea>

            </div>
        </div>
        <div class="disp">
            <!--A 512x256 black/white screen-->
            <canvas id="screen" width="512px" height="256px"></canvas>

            <div id="ALU">
                <div id="d-in">
                    <span>D Input:</span>
                    <input type="text" name="d-in" id="tdin" disabled>
                    <span class="line"></span>
                </div>
                <div id="ma-in">
                    <span>M/A Input:</span>
                    <input type="text" name="ma-in" id="tmain" disabled>
                    <span class="line"></span>
                </div>
                <div id="mux">
                    <input type="text" name="mux" id="tmux" disabled>
                </div>
                <div id="alu-out">
                    <span>ALU Output:</span>
                    <input type="text" name="alu-out" id="tout" disabled>
                    <span class="line"></span>
                </div>
            </div>
        </div>
    </div>
    <div id="reg-view" class="container">
        <div class="reg"><span>A</span><input type="text" id="tar" disabled></div>
        <div class="reg"><span>D</span><input type="text" id="trd" disabled></div>
        <div class="reg"><span>PC</span><input type="text" id="tpc" disabled></div>
        <div class="reg"><span>KBD</span><input type="text" id="tkb" disabled autocomplete="off"></div>
    </div>
    <div id="controls" class="container">
        <button onclick="assemble();">ASSEMBLE</button>
        <button onclick="execute();">STEP</button>
        <button onclick="run();">RUN</button>
        <button onclick="RUNNING = false;">STOP</button>
        <button onclick="reset();">RESET</button>
        <select name="mode" id="mode">
            <option value="asm">ASM</option>
            <option value="dec">DEC</option>
            <option value="hex">HEX</option>
            <option value="bin">BIN</option>
            <option value="oct">OCT</option>
        </select>
        
        <fieldset>
            <input type="range" name="freq_slider" id="slider" min="1" max="500" value="10">
            <input type="text" name="freq" value="10" id="freq">
            <span>Hz</span>
        </fieldset>
        <fieldset>
            <input type="range" name="freq_slider" id="slider2" min="1" max="2000" value="10">
            <input type="text" name="ipc" value="1" id="ipc">
            <span>IPC</span>
        </fieldset>
    </div>
    <div class="container">
        <div id="ROM-view" class="col"></div>
        <div id="RAM-view" class="col"></div>
    </div>

    <script>
        // Global variables/helper functions.
        const BG = 0x499F68;
        const FG = 0x232020;

        function is_int(n) { return !isNaN(parseInt(n)); }
    </script>
    <script src="js/hack.min.js"></script>
</body>
</html>